#!/bin/bash

_handle_htm () {
	elinks --dump "${1}"
}

_handle_html () {
	_handle_htm "${1}"
}

_handle_pdf () {
	pdftotext -nopgbrk "${1}" -
}

_handle_rar () {
	if [ $(unrar lb "$1" | wc -l) -eq 1 ] && [ -n "$(type -t enconv)" ]; then
		unrar p -c- -inul "$1" | enconv
	else
		unrar l "$1"
	fi
}

_handle_${1##*.} "${1}"
